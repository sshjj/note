# IP 
IP 在 TCP/IP 参考模型中处于第三层，也就是⽹络层。
⽹络层的主要作⽤是：实现主机与主机之间的通信，也叫点对点（end to end）通信。

## 网络层和数据链路层的区别
有的⼩伙伴分不清 IP（⽹络层） 和 MAC （数据链路层）之间的区别和关系。
其实很容易区分，在上⾯我们知道 IP 的作⽤是主机之间通信⽤的，⽽ MAC 的作⽤则是实现「直连」的两个设备之间通信，⽽ IP 则负责在「没有直连」的两个⽹络之间进⾏通信传输。

还有᯿要⼀点，旅⾏途中我们虽然不断变化了交通⼯具，但是旅⾏⾏程的起始地址和⽬的地址始终都没变。其实，在⽹络中数据包传输中也是如此，源IP地址和⽬标IP地址在传输过程中是不会变化的，只有源 MAC 地址和⽬标 MAC ⼀直在变化。

## IP的基础知识
在 TCP/IP ⽹络通信时，为了保证能正常通信，每个设备都需要配置正确的 IP 地址，否则⽆法实现正常的通信。
IP 地址（IPv4 地址）由 32 位正整数来表示，IP 地址在计算机是以⼆进制的⽅式处理的。
⽽⼈类为了⽅便记忆采⽤了点分⼗进制的标记⽅式，也就是将 32 位 IP 地址以每 8 位为组，共分为 4组，每组以「 . 」隔开，再将每组转换成⼗进制。
也就说，最⼤允许 43 亿台计算机连接到⽹络。
实际上，IP 地址并不是根据主机台数来配置的，⽽是以⽹卡。像服务器、路由器等设备都是有 2 个以上
的⽹卡，也就是它们会有 2 个以上的 IP 地址。

### IP地址的分类
互联⽹诞⽣之初，IP 地址显得很充裕，于是计算机科学家们设计了分类地址。
IP 地址分类成了 5 种类型，分别是 A 类、B 类、C 类、D 类、E 类。
#### 什么是 A、B、C 类地址？
其中对于 A、B、C 类主要分为两个部分，分别是⽹络号和主机号。这很好理解，好⽐⼩林是 A ⼩区 1栋 101 号，你是 B ⼩区 1 栋 101 号。
我们可以⽤下⾯这个表格， 就能很清楚的知道 A、B、C 分类对应的地址范围、最⼤主机个数。

因为在 IP 地址中，有两个 IP 是特殊的，分别是主机号全为 1 和 全为 0 地址。
* 主机号全为 1 指定某个⽹络下的所有主机，⽤于⼴播
* 主机号全为 0 指定某个⽹络

#### ⼴播地址⽤于什么？
⼴播地址⽤于在同⼀个链路中相互连接的主机之间发送数据包。
⼴播地址可以分为本地⼴播和直接⼴播两种。
* 在本⽹络内⼴播的叫做本地⼴播。例如⽹络地址为 192.168.0.0/24 的情况下，⼴播地址是192.168.0.255 。因为这个⼴播地址的 IP 包会被路由器屏蔽，所以不会到达 192.168.0.0/24 以外的其他链路上。
* 在不同⽹络之间的⼴播叫做直接⼴播。例如⽹络地址为 192.168.0.0/24 的主机向 192.168.1.255/24的⽬标地址发送 IP 包。收到这个包的路由器，将数据转发给 192.168.1.0/24，从⽽使得所有192.168.1.1~192.168.1.254 的主机都能收到这个包（由于直接⼴播有⼀定的安全问题，多数情况下会在路由器上设置为不转发） 。

⽽ D 类和 E 类地址是没有主机号的，所以不可⽤于主机 IP，D 类常被⽤于多播，E 类是预留的分类，
暂时未使⽤
#### 多播地址⽤于什么？
多播⽤于将包发送给特定组内的所有主机。
多播使⽤的 D 类地址，其前四位是 1110 就表示是多播地址，⽽剩下的 28 位是多播的组编号。
从 224.0.0.0 ~ 239.255.255.255 都是多播的可⽤范围，其划分为以下三类：
* 224.0.0.0 ~ 224.0.0.255 为预留的组播地址，只能在局域⽹中，路由器是不会进⾏转发的。
* 224.0.1.0 ~ 238.255.255.255 为⽤户可⽤的组播地址，可以⽤于 Internet 上。
* 239.0.0.0 ~ 239.255.255.255 为本地管理组播地址，可供内部⽹在内部使⽤，仅在特定的本地范围内有效

### IP 分类的优点
不管是路由器还是主机解析到⼀个 IP 地址时候，我们判断其 IP 地址的⾸位是否为 0，为 0 则为 A 类地址，那么就能很快的找出⽹络地址和主机地址。